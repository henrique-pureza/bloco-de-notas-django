(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{8535:function(e,t,o){Promise.resolve().then(o.bind(o,4188))},4188:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return d}});var n=o(7437),s=o(8938),r=o(3226),i=o(3457),a=o(4994),l=o(6735),c=o(2265),u=o(4033),h=o(7631);function d(){let e=(0,u.useSearchParams)().get("titulo"),[t,o]=(0,c.useState)(""),[d,x]=(0,c.useState)(""),[j,p]=(0,c.useState)(!0),[f,m]=(0,c.useState)(!0),Z=(0,u.useRouter)(),[g,C]=(0,c.useState)(!1),[v,w]=(0,c.useState)("");async function S(){if(t&&d){let o=await fetch("http://localhost:8000/api/notas/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:t,nota:d})});if(200===o.status)Z.push("/show?titulo=".concat(t,"&from=editPage"));else{let e=await o.json();C(!0),w("Error: ".concat(e.titulo||e.nota))}}else t?(d&&p(!1),m(!1)):p(!1)}return(0,c.useEffect)(()=>{(async function(){try{let t=await fetch("http://localhost:8000/api/notas/".concat(e)),n=await t.json();o(n.titulo),x(n.nota)}catch(e){console.error(e),C(!0),w(String(e))}})()},[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{editing:!0,onEdit:()=>S(),note:e}),(0,n.jsxs)(s.Z,{sx:{mt:3},children:[(0,n.jsxs)(r.Z,{variant:"h4",sx:{mb:3},children:['Editar "',e,'"']}),(0,n.jsxs)(i.Z,{spacing:2,children:[(0,n.jsx)(a.Z,{label:"T\xedtulo",placeholder:"D\xea um t\xedtulo para identificar sua nota (lembre-se que n\xe3o pode escrever duas notas com o mesmo nome)",value:t,onChange:e=>{o(e.target.value),t||p(!0)},error:!j,helperText:!j&&"Digite um t\xedtulo.",required:!0}),(0,n.jsx)(a.Z,{label:"Nota",rows:10,value:d,onChange:e=>{x(e.target.value),d||m(!0)},error:!f,helperText:!f&&"A nota n\xe3o pode ser vazia.",placeholder:"Escreva aqui seus lembretes, pensamentos ou outras coisas...",multiline:!0,required:!0})]})]}),(0,n.jsx)(h.Z,{opened:g,message:v,onClose:()=>C(!1)})]})}},6735:function(e,t,o){"use strict";o.d(t,{Z:function(){return v}});var n=o(7437),s=o(1867),r=o(4989),i=o(2653),a=o(3226),l=o(9050),c=o(9394),u=o(8982),h=o(2834),d=o(8757),x=o(9396),j=o(3391),p=o(6446),f=o(4033),m=o(2265),Z=o(7631),g=o(1396),C=o.n(g);function v(e){let{home:t,showing:o,note:g,creating:v,onCreate:w,editing:S,onEdit:k}=e,y=(0,f.useRouter)(),[E,b]=(0,m.useState)(!1),[T,D]=(0,m.useState)(!1),[N,_]=(0,m.useState)("");async function q(){try{let e=await fetch("http://localhost:8000/api/notas/".concat(g),{method:"DELETE"});204===e.status&&y.push("/?from=showPage")}catch(e){console.error(e),D(!0),_(String(e))}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{position:"relative",color:"primary",children:(0,n.jsxs)(r.Z,{children:[(o||v||S&&g)&&(0,n.jsx)(i.Z,{edge:"start",color:"inherit",onClick:()=>S?y.push("/show?titulo=".concat(g)):y.push("/"),sx:{mr:2},children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)(C(),{href:"/",style:{display:"flex",flexGrow:1,color:"white",textDecoration:"none"},passHref:!0,children:(0,n.jsx)(a.Z,{variant:"h6",children:"Bloco de Notas"})}),t&&(0,n.jsx)(i.Z,{color:"inherit",onClick:()=>y.push("/new"),children:(0,n.jsx)(x.Z,{})}),o&&g&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{color:"inherit",onClick:()=>y.push("/edit?titulo=".concat(g)),sx:{mr:2},children:(0,n.jsx)(j.Z,{})}),(0,n.jsx)(i.Z,{color:"inherit",onClick:()=>b(!0),children:(0,n.jsx)(p.Z,{})})]}),v&&w&&(0,n.jsx)(l.Z,{color:"inherit",onClick:()=>w(),children:"Criar"}),S&&k&&(0,n.jsx)(l.Z,{color:"inherit",onClick:()=>k(),children:"Editar"})]})}),(0,n.jsxs)(c.Z,{open:E,onClose:()=>b(!1),children:[(0,n.jsx)(u.Z,{children:"Tem certeza de que deseja deletar esta nota?"}),(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(l.Z,{color:"primary",onClick:()=>b(!1),children:"Cancelar"}),(0,n.jsx)(l.Z,{color:"error",onClick:()=>q(),children:"Deletar"})]})]}),(0,n.jsx)(Z.Z,{opened:T,message:N,onClose:()=>D(!1)})]})}},7631:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});var n=o(7437),s=o(7292),r=o(2653),i=o(3533);function a(e){let{opened:t,message:o,onClose:a}=e;return(0,n.jsx)(s.Z,{open:t,autoHideDuration:2e3,onClose:()=>a(),message:o,action:(0,n.jsx)(r.Z,{size:"small",color:"inherit",onClick:()=>a(),children:(0,n.jsx)(i.Z,{fontSize:"small"})})})}}},function(e){e.O(0,[394,134,971,864,744],function(){return e(e.s=8535)}),_N_E=e.O()}]);