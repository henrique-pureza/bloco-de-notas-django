(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{744:function(e,t,o){Promise.resolve().then(o.bind(o,6660))},6660:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return d}});var n=o(7437),r=o(6735),s=o(8938),i=o(3226),a=o(3457),l=o(4994),c=o(2265),u=o(4033),h=o(7631);function d(){let[e,t]=(0,c.useState)(""),[o,d]=(0,c.useState)(""),[x,j]=(0,c.useState)(!0),[p,Z]=(0,c.useState)(!0),f=(0,u.useRouter)(),[m,C]=(0,c.useState)(!1),[g,v]=(0,c.useState)("");async function k(){if(e&&o){let t=await fetch("http://localhost:8000/api/notas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:e,nota:o})});if(201===t.status)f.push("/show/?titulo=".concat(e,"&from=newPage"));else{let e=await t.json();console.log(e),C(!0),v("Error: ".concat(e.titulo||e.nota))}}else e?(o&&j(!1),Z(!1)):j(!1)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{onCreate:()=>k(),creating:!0}),(0,n.jsxs)(s.Z,{sx:{mt:3},children:[(0,n.jsx)(i.Z,{variant:"h4",sx:{mb:3},children:"Criar nota"}),(0,n.jsxs)(a.Z,{spacing:2,children:[(0,n.jsx)(l.Z,{label:"T\xedtulo",value:e,onChange:o=>{t(o.target.value),e||j(!0)},placeholder:"D\xea um t\xedtulo para identificar sua nota (lembre-se que n\xe3o pode escrever duas notas com o mesmo nome)",error:!x,helperText:!x&&"Digite um t\xedtulo.",required:!0}),(0,n.jsx)(l.Z,{label:"Nota",value:o,onChange:e=>{d(e.target.value),o||j(!0)},placeholder:"Escreva aqui seus lembretes, pensamentos ou outras coisas...",rows:10,error:!p,helperText:!p&&"A nota n\xe3o pode ser vazia.",multiline:!0,required:!0})]})]}),(0,n.jsx)(h.Z,{opened:m,message:g,onClose:()=>C(!1)})]})}},6735:function(e,t,o){"use strict";o.d(t,{Z:function(){return v}});var n=o(7437),r=o(1867),s=o(4989),i=o(2653),a=o(3226),l=o(9050),c=o(9394),u=o(8982),h=o(2834),d=o(8757),x=o(9396),j=o(3391),p=o(6446),Z=o(4033),f=o(2265),m=o(7631),C=o(1396),g=o.n(C);function v(e){let{home:t,showing:o,note:C,creating:v,onCreate:k,editing:w,onEdit:S}=e,y=(0,Z.useRouter)(),[b,E]=(0,f.useState)(!1),[T,D]=(0,f.useState)(!1),[N,_]=(0,f.useState)("");async function q(){try{let e=await fetch("http://localhost:8000/api/notas/".concat(C),{method:"DELETE"});204===e.status&&y.push("/?from=showPage")}catch(e){console.error(e),D(!0),_(String(e))}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{position:"relative",color:"primary",children:(0,n.jsxs)(s.Z,{children:[(o||v||w&&C)&&(0,n.jsx)(i.Z,{edge:"start",color:"inherit",onClick:()=>w?y.push("/show?titulo=".concat(C)):y.push("/"),sx:{mr:2},children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)(g(),{href:"/",style:{display:"flex",flexGrow:1,color:"white",textDecoration:"none"},passHref:!0,children:(0,n.jsx)(a.Z,{variant:"h6",children:"Bloco de Notas"})}),t&&(0,n.jsx)(i.Z,{color:"inherit",onClick:()=>y.push("/new"),children:(0,n.jsx)(x.Z,{})}),o&&C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{color:"inherit",onClick:()=>y.push("/edit?titulo=".concat(C)),sx:{mr:2},children:(0,n.jsx)(j.Z,{})}),(0,n.jsx)(i.Z,{color:"inherit",onClick:()=>E(!0),children:(0,n.jsx)(p.Z,{})})]}),v&&k&&(0,n.jsx)(l.Z,{color:"inherit",onClick:()=>k(),children:"Criar"}),w&&S&&(0,n.jsx)(l.Z,{color:"inherit",onClick:()=>S(),children:"Editar"})]})}),(0,n.jsxs)(c.Z,{open:b,onClose:()=>E(!1),children:[(0,n.jsx)(u.Z,{children:"Tem certeza de que deseja deletar esta nota?"}),(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(l.Z,{color:"primary",onClick:()=>E(!1),children:"Cancelar"}),(0,n.jsx)(l.Z,{color:"error",onClick:()=>q(),children:"Deletar"})]})]}),(0,n.jsx)(m.Z,{opened:T,message:N,onClose:()=>D(!1)})]})}},7631:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});var n=o(7437),r=o(7292),s=o(2653),i=o(3533);function a(e){let{opened:t,message:o,onClose:a}=e;return(0,n.jsx)(r.Z,{open:t,autoHideDuration:2e3,onClose:()=>a(),message:o,action:(0,n.jsx)(s.Z,{size:"small",color:"inherit",onClick:()=>a(),children:(0,n.jsx)(i.Z,{fontSize:"small"})})})}}},function(e){e.O(0,[394,134,971,864,744],function(){return e(e.s=744)}),_N_E=e.O()}]);